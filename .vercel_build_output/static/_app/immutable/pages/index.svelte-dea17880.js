import{S as ce,i as pe,s as me,X as Ce,Y as Ve,a as q,d,b as H,g as T,G as $,E as he,T as W,U as x,e as R,c as B,t as Y,h as G,j as ge,N as be,k as S,w as L,m as I,x as Q,y as z,L as we,R as ve,V as ee,q as E,O as ye,P as ke,o as A,Q as Ee,B as N,n as ie,p as ue,a0 as Xe,K as xe}from"../chunks/index-afd08e74.js";import{B as te,l as fe}from"../chunks/Button-a8edf08d.js";import{g as Pe}from"../chunks/navigation-0e6511d1.js";import{I as X,f as re}from"../chunks/Input-c68b09d0.js";import"../chunks/index-9f318f14.js";import"../chunks/singletons-d1fb5791.js";function et(r){let e,t;return{c(){e=Ce("svg"),t=Ce("polyline"),this.h()},l(n){e=Ve(n,"svg",{viewBox:!0,preserveAspectRatio:!0,width:!0,class:!0});var s=q(e);t=Ve(s,"polyline",{points:!0,fill:!0,"stroke-width":!0,class:!0}),q(t).forEach(d),s.forEach(d),this.h()},h(){H(t,"points","0,100 20,50 30,80 65,20 90,30 100.3,0"),H(t,"fill","none"),H(t,"stroke-width","0.50"),H(t,"class","stroke-emerald-300 svelte-zmfe85"),H(e,"viewBox","0 0 100 100"),H(e,"preserveAspectRatio","xMidYMin"),H(e,"width","100%"),H(e,"class","absolute top-16 -left-0 z-0 svelte-zmfe85")},m(n,s){T(n,e,s),$(e,t)},p:he,i:he,o:he,d(n){n&&d(e)}}}class tt extends ce{constructor(e){super(),pe(this,e,null,et,me,{})}}var nt=async r=>{const e=await fetch(`/api/get-username-availability?username=${r}`);return e.ok?(await e.json()).available:"error"};function qe(r,e,t){const n=r.slice();return n[19]=e[t],n}function Fe(r){let e,t=r[7],n=[];for(let s=0;s<t.length;s+=1)n[s]=Re(qe(r,t,s));return{c(){e=R("p");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=B(s,"P",{class:!0});var l=q(e);for(let a=0;a<n.length;a+=1)n[a].l(l);l.forEach(d),this.h()},h(){H(e,"class","border-2 border-rose-300 bg-rose-200 p-4")},m(s,l){T(s,e,l);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(s,l){if(l&128){t=s[7];let a;for(a=0;a<t.length;a+=1){const w=qe(s,t,a);n[a]?n[a].p(w,l):(n[a]=Re(w),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){s&&d(e),be(n,s)}}}function Re(r){let e,t=r[19]+"",n;return{c(){e=R("span"),n=Y(t)},l(s){e=B(s,"SPAN",{});var l=q(e);n=G(l,t),l.forEach(d)},m(s,l){T(s,e,l),$(e,n)},p(s,l){l&128&&t!==(t=s[19]+"")&&ge(n,t)},d(s){s&&d(e)}}}function rt(r){let e;return{c(){e=Y("Create Account")},l(t){e=G(t,"Create Account")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function st(r){let e,t,n,s,l,a,w,i,_,h,c,o,v,y,D,V,U,F,O,b,f,g,u,p,k,m,C,M;function Z(P){r[12](P)}let se={id:"username",name:"username",label:"Username",required:!0,pattern:lt,maxLength:"16",subtext:"8-16 letters and/or numbers",onBlur:r[9]};r[1]!==void 0&&(se.value=r[1]),a=new X({props:se}),W.push(()=>x(a,"value",Z));function de(P){r[13](P)}let le={id:"password",name:"password",label:"Password",required:!0,pattern:Be,type:"password",maxLength:"64",onInput:r[10],subtext:`8-64 letters, numbers, and special characters 
			(!, @, #, $, %, ^, &, *)`};r[2]!==void 0&&(le.value=r[2]),_=new X({props:le}),W.push(()=>x(_,"value",de));function _e(P){r[14](P)}let ae={id:"password-confirmation",name:"password-confirmation",label:"Password Confirmation",required:!0,pattern:Be,type:"password",maxLength:"64",onInput:r[10],error:r[8]};r[3]!==void 0&&(ae.value=r[3]),o=new X({props:ae}),W.push(()=>x(o,"value",_e));function Ke(P){r[15](P)}let Ae={id:"security-question",name:"security-question",label:"Security Question",required:!0,pattern:at,maxLength:"64",subtext:"8-64 characters"};r[4]!==void 0&&(Ae.value=r[4]),D=new X({props:Ae}),W.push(()=>x(D,"value",Ke));function We(P){r[16](P)}let Se={id:"security-answer",name:"security-answer",label:"Security Answer",required:!0,pattern:ot,maxLength:"64",subtext:"1-64 characters"};r[5]!==void 0&&(Se.value=r[5]),F=new X({props:Se}),W.push(()=>x(F,"value",We));let J=r[7].length>0&&Fe(r);return u=new te({props:{disabled:r[6],$$slots:{default:[rt]},$$scope:{ctx:r}}}),{c(){e=R("form"),t=R("h2"),n=Y("Register"),s=S(),l=R("fieldset"),L(a.$$.fragment),i=S(),L(_.$$.fragment),c=S(),L(o.$$.fragment),y=S(),L(D.$$.fragment),U=S(),L(F.$$.fragment),b=S(),J&&J.c(),f=S(),g=R("div"),L(u.$$.fragment),this.h()},l(P){e=B(P,"FORM",{class:!0});var j=q(e);t=B(j,"H2",{class:!0});var oe=q(t);n=G(oe,"Register"),oe.forEach(d),s=I(j),l=B(j,"FIELDSET",{});var K=q(l);Q(a.$$.fragment,K),i=I(K),Q(_.$$.fragment,K),c=I(K),Q(o.$$.fragment,K),y=I(K),Q(D.$$.fragment,K),U=I(K),Q(F.$$.fragment,K),K.forEach(d),b=I(j),J&&J.l(j),f=I(j),g=B(j,"DIV",{});var ne=q(g);Q(u.$$.fragment,ne),ne.forEach(d),j.forEach(d),this.h()},h(){H(t,"class","text-center text-3xl font-bold"),H(e,"class","flex w-[300px] flex-col gap-8 rounded-xl bg-white p-8 shadow sm:w-[350px] ")},m(P,j){T(P,e,j),$(e,t),$(t,n),$(e,s),$(e,l),z(a,l,null),$(l,i),z(_,l,null),$(l,c),z(o,l,null),$(l,y),z(D,l,null),$(l,U),z(F,l,null),$(e,b),J&&J.m(e,null),$(e,f),$(e,g),z(u,g,null),r[17](e),m=!0,C||(M=we(e,"submit",ve(r[11])),C=!0)},p(P,[j]){r=P;const oe={};!w&&j&2&&(w=!0,oe.value=r[1],ee(()=>w=!1)),a.$set(oe);const K={};!h&&j&4&&(h=!0,K.value=r[2],ee(()=>h=!1)),_.$set(K);const ne={};j&256&&(ne.error=r[8]),!v&&j&8&&(v=!0,ne.value=r[3],ee(()=>v=!1)),o.$set(ne);const Ie={};!V&&j&16&&(V=!0,Ie.value=r[4],ee(()=>V=!1)),D.$set(Ie);const De={};!O&&j&32&&(O=!0,De.value=r[5],ee(()=>O=!1)),F.$set(De),r[7].length>0?J?J.p(r,j):(J=Fe(r),J.c(),J.m(e,f)):J&&(J.d(1),J=null);const $e={};j&64&&($e.disabled=r[6]),j&4194304&&($e.$$scope={dirty:j,ctx:r}),u.$set($e)},i(P){m||(E(a.$$.fragment,P),E(_.$$.fragment,P),E(o.$$.fragment,P),E(D.$$.fragment,P),E(F.$$.fragment,P),E(u.$$.fragment,P),P&&ye(()=>{k&&k.end(1),p=ke(e,re,{delay:it,duration:Te,y:He}),p.start()}),m=!0)},o(P){A(a.$$.fragment,P),A(_.$$.fragment,P),A(o.$$.fragment,P),A(D.$$.fragment,P),A(F.$$.fragment,P),A(u.$$.fragment,P),p&&p.invalidate(),P&&(k=Ee(e,re,{duration:Te,y:He})),m=!1},d(P){P&&d(e),N(a),N(_),N(o),N(D),N(F),J&&J.d(),N(u),r[17](null),P&&k&&k.end(),C=!1,M()}}}let lt="([A-Za-z0-9]+){8,16}",Be="([A-Za-z0-9!@#$%^&*]+){8,64}",at="\\w+{8,64}",ot="\\w+{1,64}",it=400,Te=200,He=100;function ut(r,e,t){let n,s,l,a,w,i,_=!1,h=[];const c=async f=>{await nt(f.target.value)?(t(6,_=!1),t(7,h=[])):(t(6,_=!0),h.push("Username already taken."))};let o=!1;const v=f=>{a===""?(t(6,_=!1),t(8,o=!1)):l!==a?(t(6,_=!0),t(8,o=!0)):(t(6,_=!1),t(8,o=!1))},y=async()=>{t(7,h=[]);const f=new FormData(n),g=f.get("password"),u=f.get("password-confirmation");for(const k of f.values())if(k===""){h.push("Please fill out all forms.");break}if(g!==u&&h.push("Passwords must match."),h.length>0)return;const p=await fetch("/api/register",{method:"POST",body:f});p.redirected?Pe(p.url):h.push("There has been an error, try again later.")};function D(f){s=f,t(1,s)}function V(f){l=f,t(2,l)}function U(f){a=f,t(3,a)}function F(f){w=f,t(4,w)}function O(f){i=f,t(5,i)}function b(f){W[f?"unshift":"push"](()=>{n=f,t(0,n)})}return[n,s,l,a,w,i,_,h,o,c,v,y,D,V,U,F,O,b]}class ft extends ce{constructor(e){super(),pe(this,e,ut,st,me,{})}}function Le(r,e,t){const n=r.slice();return n[20]=e[t],n}function Qe(r){let e,t,n,s,l;function a(i){r[14](i)}let w={id:"username",name:"username",label:"Username",required:!0};return r[5]!==void 0&&(w.value=r[5]),e=new X({props:w}),W.push(()=>x(e,"value",a)),s=new te({props:{type:"button",onClick:r[9],$$slots:{default:[ct]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment),n=S(),L(s.$$.fragment)},l(i){Q(e.$$.fragment,i),n=I(i),Q(s.$$.fragment,i)},m(i,_){z(e,i,_),T(i,n,_),z(s,i,_),l=!0},p(i,_){const h={};!t&&_&32&&(t=!0,h.value=i[5],ee(()=>t=!1)),e.$set(h);const c={};_&8388608&&(c.$$scope={dirty:_,ctx:i}),s.$set(c)},i(i){l||(E(e.$$.fragment,i),E(s.$$.fragment,i),l=!0)},o(i){A(e.$$.fragment,i),A(s.$$.fragment,i),l=!1},d(i){N(e,i),i&&d(n),N(s,i)}}}function ct(r){let e;return{c(){e=Y("Get security Question")},l(t){e=G(t,"Get security Question")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function ze(r){let e,t,n,s,l,a,w,i,_;function h(o){r[15](o)}let c={id:"security-answer",name:"security-answer",label:"Answer",required:!0};return r[6]!==void 0&&(c.value=r[6]),l=new X({props:c}),W.push(()=>x(l,"value",h)),i=new te({props:{type:"button",onClick:r[10],$$slots:{default:[pt]},$$scope:{ctx:r}}}),{c(){e=R("p"),t=Y("Question: "),n=Y(r[1]),s=S(),L(l.$$.fragment),w=S(),L(i.$$.fragment)},l(o){e=B(o,"P",{});var v=q(e);t=G(v,"Question: "),n=G(v,r[1]),v.forEach(d),s=I(o),Q(l.$$.fragment,o),w=I(o),Q(i.$$.fragment,o)},m(o,v){T(o,e,v),$(e,t),$(e,n),T(o,s,v),z(l,o,v),T(o,w,v),z(i,o,v),_=!0},p(o,v){(!_||v&2)&&ge(n,o[1]);const y={};!a&&v&64&&(a=!0,y.value=o[6],ee(()=>a=!1)),l.$set(y);const D={};v&8388608&&(D.$$scope={dirty:v,ctx:o}),i.$set(D)},i(o){_||(E(l.$$.fragment,o),E(i.$$.fragment,o),_=!0)},o(o){A(l.$$.fragment,o),A(i.$$.fragment,o),_=!1},d(o){o&&d(e),o&&d(s),N(l,o),o&&d(w),N(i,o)}}}function pt(r){let e;return{c(){e=Y("Answer")},l(t){e=G(t,"Answer")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function Ne(r){let e,t,n,s,l,a;function w(c){r[16](c)}let i={id:"new-password",name:"new-password",label:"New Password",type:"password",required:!0};r[7]!==void 0&&(i.value=r[7]),e=new X({props:i}),W.push(()=>x(e,"value",w));function _(c){r[17](c)}let h={id:"new-password-confirmation",name:"new-password-confirmation",label:"Confrim New Password",type:"password",required:!0};return r[8]!==void 0&&(h.value=r[8]),s=new X({props:h}),W.push(()=>x(s,"value",_)),{c(){L(e.$$.fragment),n=S(),L(s.$$.fragment)},l(c){Q(e.$$.fragment,c),n=I(c),Q(s.$$.fragment,c)},m(c,o){z(e,c,o),T(c,n,o),z(s,c,o),a=!0},p(c,o){const v={};!t&&o&128&&(t=!0,v.value=c[7],ee(()=>t=!1)),e.$set(v);const y={};!l&&o&256&&(l=!0,y.value=c[8],ee(()=>l=!1)),s.$set(y)},i(c){a||(E(e.$$.fragment,c),E(s.$$.fragment,c),a=!0)},o(c){A(e.$$.fragment,c),A(s.$$.fragment,c),a=!1},d(c){N(e,c),c&&d(n),N(s,c)}}}function Oe(r){let e,t=r[4],n=[];for(let s=0;s<t.length;s+=1)n[s]=Ue(Le(r,t,s));return{c(){e=R("p");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=B(s,"P",{class:!0});var l=q(e);for(let a=0;a<n.length;a+=1)n[a].l(l);l.forEach(d),this.h()},h(){H(e,"class","border-2 border-rose-300 bg-rose-200 p-4")},m(s,l){T(s,e,l);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(s,l){if(l&16){t=s[4];let a;for(a=0;a<t.length;a+=1){const w=Le(s,t,a);n[a]?n[a].p(w,l):(n[a]=Ue(w),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){s&&d(e),be(n,s)}}}function Ue(r){let e,t=r[20]+"",n;return{c(){e=R("span"),n=Y(t)},l(s){e=B(s,"SPAN",{});var l=q(e);n=G(l,t),l.forEach(d)},m(s,l){T(s,e,l),$(e,n)},p(s,l){l&16&&t!==(t=s[20]+"")&&ge(n,t)},d(s){s&&d(e)}}}function Me(r){let e,t;return e=new te({props:{type:"submit",$$slots:{default:[mt]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){z(e,n,s),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function mt(r){let e;return{c(){e=Y("Reset Password")},l(t){e=G(t,"Reset Password")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function dt(r){let e;return{c(){e=Y("Remember your password?")},l(t){e=G(t,"Remember your password?")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function _t(r){let e;return{c(){e=Y("Need an account?")},l(t){e=G(t,"Need an account?")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function gt(r){let e,t,n,s,l,a,w,i,_,h,c,o,v,y,D,V,U,F,O,b=!r[1]&&Qe(r),f=r[1]&&!r[2]&&ze(r),g=r[2]&&Ne(r),u=r[4].length>0&&Oe(r),p=r[2]&&Me(r);return o=new te({props:{buttonType:"tertiary",onClick:r[12],type:"button",$$slots:{default:[dt]},$$scope:{ctx:r}}}),y=new te({props:{buttonType:"tertiary",onClick:r[13],type:"button",$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){e=R("form"),t=R("h2"),n=Y("Password Reset"),s=S(),l=R("fieldset"),b&&b.c(),a=S(),f&&f.c(),w=S(),g&&g.c(),i=S(),u&&u.c(),_=S(),h=R("div"),p&&p.c(),c=S(),L(o.$$.fragment),v=S(),L(y.$$.fragment),this.h()},l(k){e=B(k,"FORM",{class:!0});var m=q(e);t=B(m,"H2",{class:!0});var C=q(t);n=G(C,"Password Reset"),C.forEach(d),s=I(m),l=B(m,"FIELDSET",{});var M=q(l);b&&b.l(M),a=I(M),f&&f.l(M),w=I(M),g&&g.l(M),M.forEach(d),i=I(m),u&&u.l(m),_=I(m),h=B(m,"DIV",{class:!0});var Z=q(h);p&&p.l(Z),c=I(Z),Q(o.$$.fragment,Z),v=I(Z),Q(y.$$.fragment,Z),Z.forEach(d),m.forEach(d),this.h()},h(){H(t,"class","text-center text-3xl font-bold"),H(h,"class","flex flex-col items-start gap-4"),H(e,"class","flex w-[300px] flex-col gap-8 rounded-lg bg-white p-8 shadow sm:w-[350px]")},m(k,m){T(k,e,m),$(e,t),$(t,n),$(e,s),$(e,l),b&&b.m(l,null),$(l,a),f&&f.m(l,null),$(l,w),g&&g.m(l,null),$(e,i),u&&u.m(e,null),$(e,_),$(e,h),p&&p.m(h,null),$(h,c),z(o,h,null),$(h,v),z(y,h,null),r[18](e),U=!0,F||(O=we(e,"submit",ve(r[11])),F=!0)},p(k,[m]){r=k,r[1]?b&&(ie(),A(b,1,1,()=>{b=null}),ue()):b?(b.p(r,m),m&2&&E(b,1)):(b=Qe(r),b.c(),E(b,1),b.m(l,a)),r[1]&&!r[2]?f?(f.p(r,m),m&6&&E(f,1)):(f=ze(r),f.c(),E(f,1),f.m(l,w)):f&&(ie(),A(f,1,1,()=>{f=null}),ue()),r[2]?g?(g.p(r,m),m&4&&E(g,1)):(g=Ne(r),g.c(),E(g,1),g.m(l,null)):g&&(ie(),A(g,1,1,()=>{g=null}),ue()),r[4].length>0?u?u.p(r,m):(u=Oe(r),u.c(),u.m(e,_)):u&&(u.d(1),u=null),r[2]?p?m&4&&E(p,1):(p=Me(r),p.c(),E(p,1),p.m(h,c)):p&&(ie(),A(p,1,1,()=>{p=null}),ue());const C={};m&8388608&&(C.$$scope={dirty:m,ctx:r}),o.$set(C);const M={};m&8388608&&(M.$$scope={dirty:m,ctx:r}),y.$set(M)},i(k){U||(E(b),E(f),E(g),E(p),E(o.$$.fragment,k),E(y.$$.fragment,k),k&&ye(()=>{V&&V.end(1),D=ke(e,re,{delay:$t,duration:r[3],y:je}),D.start()}),U=!0)},o(k){A(b),A(f),A(g),A(p),A(o.$$.fragment,k),A(y.$$.fragment,k),D&&D.invalidate(),k&&(V=Ee(e,re,{duraiton:r[3],y:je})),U=!1},d(k){k&&d(e),b&&b.d(),f&&f.d(),g&&g.d(),u&&u.d(),p&&p.d(),N(o),N(y),r[18](null),k&&V&&V.end(),F=!1,O()}}}let $t=400,je=100;function ht(r,e,t){let n,s={username:null,securityAnswer:null,password:null},l=!1,a=!1,w=200,i=[],_;const h=async()=>{if(s.username===null){t(4,i=[]);const u=`/api/get-security-question?username=${_}`,p=await fetch(u);if(p.ok){const k=await p.json();s.username=_,t(1,l=k.securityQuestion)}else p.status===400&&t(4,i=["User not found."])}};let c;const o=async()=>{if(s.securityAnswer===null){t(4,i=[]);const u=`/api/authenticate-security-answer?username=${_}&answer=${c}`,p=await fetch(u);if(p.ok){const k=await p.json();k.authenticated?s.securityAnswer=c:t(4,i=["Wrong answer. Please try again."]),t(2,a=k.authenticated)}}};let v,y;const D=async()=>{t(4,i=[]),v!==y&&i.push("Passwords must match."),s.password=v;for(const p of Object.entries(s))if(p[1]===null||p[1]===""){i.push("Please fill out all forms.");break}if(i.length>0)return;const u=await fetch("/api/reset-password",{method:"PATCH",body:JSON.stringify(s)});u.redirected?(t(3,w=0),Pe(u.url)):t(4,i=["An error has occurred. Try again later."])},V=()=>{fe.set("login")},U=()=>{fe.set("registration")};function F(u){_=u,t(5,_)}function O(u){c=u,t(6,c)}function b(u){v=u,t(7,v)}function f(u){y=u,t(8,y)}function g(u){W[u?"unshift":"push"](()=>{n=u,t(0,n)})}return[n,l,a,w,i,_,c,v,y,h,o,D,V,U,F,O,b,f,g]}class bt extends ce{constructor(e){super(),pe(this,e,ht,gt,me,{})}}function Ye(r,e,t){const n=r.slice();return n[7]=e[t],n}function Ge(r){let e,t=r[2],n=[];for(let s=0;s<t.length;s+=1)n[s]=Ze(Ye(r,t,s));return{c(){e=R("p");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=B(s,"P",{class:!0});var l=q(e);for(let a=0;a<n.length;a+=1)n[a].l(l);l.forEach(d),this.h()},h(){H(e,"class","border-2 border-rose-300 bg-rose-200 p-4")},m(s,l){T(s,e,l);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(s,l){if(l&4){t=s[2];let a;for(a=0;a<t.length;a+=1){const w=Ye(s,t,a);n[a]?n[a].p(w,l):(n[a]=Ze(w),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){s&&d(e),be(n,s)}}}function Ze(r){let e,t=r[7]+"",n;return{c(){e=R("span"),n=Y(t)},l(s){e=B(s,"SPAN",{});var l=q(e);n=G(l,t),l.forEach(d)},m(s,l){T(s,e,l),$(e,n)},p(s,l){l&4&&t!==(t=s[7]+"")&&ge(n,t)},d(s){s&&d(e)}}}function wt(r){let e;return{c(){e=Y("Log In")},l(t){e=G(t,"Log In")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function vt(r){let e;return{c(){e=Y("Forgot your password?")},l(t){e=G(t,"Forgot your password?")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function yt(r){let e;return{c(){e=Y("Need an account?")},l(t){e=G(t,"Need an account?")},m(t,n){T(t,e,n)},d(t){t&&d(e)}}}function kt(r){let e,t,n,s,l,a,w,i,_,h,c,o,v,y,D,V,U,F,O,b,f;a=new X({props:{id:"username",name:"username",label:"Username",required:!0}}),i=new X({props:{id:"password",name:"password",label:"Password",type:"password",required:!0}});let g=r[2].length>0&&Ge(r);return o=new te({props:{$$slots:{default:[wt]},$$scope:{ctx:r}}}),y=new te({props:{buttonType:"tertiary",onClick:r[4],type:"button",$$slots:{default:[vt]},$$scope:{ctx:r}}}),V=new te({props:{buttonType:"tertiary",onClick:r[5],type:"button",$$slots:{default:[yt]},$$scope:{ctx:r}}}),{c(){e=R("form"),t=R("h2"),n=Y("Log In"),s=S(),l=R("fieldset"),L(a.$$.fragment),w=S(),L(i.$$.fragment),_=S(),g&&g.c(),h=S(),c=R("div"),L(o.$$.fragment),v=S(),L(y.$$.fragment),D=S(),L(V.$$.fragment),this.h()},l(u){e=B(u,"FORM",{class:!0});var p=q(e);t=B(p,"H2",{class:!0});var k=q(t);n=G(k,"Log In"),k.forEach(d),s=I(p),l=B(p,"FIELDSET",{});var m=q(l);Q(a.$$.fragment,m),w=I(m),Q(i.$$.fragment,m),m.forEach(d),_=I(p),g&&g.l(p),h=I(p),c=B(p,"DIV",{class:!0});var C=q(c);Q(o.$$.fragment,C),v=I(C),Q(y.$$.fragment,C),D=I(C),Q(V.$$.fragment,C),C.forEach(d),p.forEach(d),this.h()},h(){H(t,"class","text-center text-3xl font-bold"),H(c,"class","flex flex-col items-start gap-4"),H(e,"class","flex w-[300px] flex-col gap-8 rounded-lg bg-white p-8 shadow sm:w-[350px]")},m(u,p){T(u,e,p),$(e,t),$(t,n),$(e,s),$(e,l),z(a,l,null),$(l,w),z(i,l,null),$(e,_),g&&g.m(e,null),$(e,h),$(e,c),z(o,c,null),$(c,v),z(y,c,null),$(c,D),z(V,c,null),r[6](e),O=!0,b||(f=we(e,"submit",ve(r[3])),b=!0)},p(u,[p]){r=u,r[2].length>0?g?g.p(r,p):(g=Ge(r),g.c(),g.m(e,h)):g&&(g.d(1),g=null);const k={};p&1024&&(k.$$scope={dirty:p,ctx:r}),o.$set(k);const m={};p&1024&&(m.$$scope={dirty:p,ctx:r}),y.$set(m);const C={};p&1024&&(C.$$scope={dirty:p,ctx:r}),V.$set(C)},i(u){O||(E(a.$$.fragment,u),E(i.$$.fragment,u),E(o.$$.fragment,u),E(y.$$.fragment,u),E(V.$$.fragment,u),u&&ye(()=>{F&&F.end(1),U=ke(e,re,{delay:Et,duration:r[1],y:Je}),U.start()}),O=!0)},o(u){A(a.$$.fragment,u),A(i.$$.fragment,u),A(o.$$.fragment,u),A(y.$$.fragment,u),A(V.$$.fragment,u),U&&U.invalidate(),u&&(F=Ee(e,re,{duraiton:r[1],y:Je})),O=!1},d(u){u&&d(e),N(a),N(i),g&&g.d(),N(o),N(y),N(V),r[6](null),u&&F&&F.end(),b=!1,f()}}}let Et=400,Je=100;function Pt(r,e,t){let n,s=200,l=[];const a=async()=>{t(2,l=[]);const h=new FormData(n),c=h.get("username"),o=h.get("password");if((c===""||o==="")&&l.push("Please fill out all forms"),l.length>0)return;const v=await fetch("/api/login",{method:"POST",body:h});v.redirected?(t(1,s=0),Pe(v.url)):t(2,l=["Incorrect username and/or password"])},w=()=>{fe.set("forgotPassword")},i=()=>{fe.set("registration")};function _(h){W[h?"unshift":"push"](()=>{n=h,t(0,n)})}return[n,s,l,a,w,i,_]}class At extends ce{constructor(e){super(),pe(this,e,Pt,kt,me,{})}}function St(r){let e,t;return e=new bt({}),{c(){L(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){z(e,n,s),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function It(r){let e,t;return e=new At({}),{c(){L(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){z(e,n,s),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function Dt(r){let e,t;return e=new ft({}),{c(){L(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){z(e,n,s),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function Ct(r){let e,t,n,s,l,a,w,i,_,h,c,o,v,y,D,V,U,F,O,b,f,g;n=new tt({});const u=[Dt,It,St],p=[];function k(m,C){return m[0]==="registration"?0:m[0]==="login"?1:m[0]==="forgotPassword"?2:-1}return~(b=k(r))&&(f=p[b]=u[b](r)),{c(){e=R("meta"),t=S(),L(n.$$.fragment),s=S(),l=R("section"),a=R("h1"),w=R("div"),i=Y("Quote"),_=S(),h=R("div"),c=Y("Buy"),o=S(),v=R("div"),y=Y("Sell"),D=S(),V=R("div"),U=Y("Stox"),F=S(),O=R("div"),f&&f.c(),this.h()},l(m){const C=Xe('[data-svelte="svelte-17xk6x0"]',document.head);e=B(C,"META",{name:!0,content:!0}),C.forEach(d),t=I(m),Q(n.$$.fragment,m),s=I(m),l=B(m,"SECTION",{class:!0});var M=q(l);a=B(M,"H1",{class:!0});var Z=q(a);w=B(Z,"DIV",{});var se=q(w);i=G(se,"Quote"),se.forEach(d),_=I(Z),h=B(Z,"DIV",{});var de=q(h);c=G(de,"Buy"),de.forEach(d),o=I(Z),v=B(Z,"DIV",{});var le=q(v);y=G(le,"Sell"),le.forEach(d),D=I(Z),V=B(Z,"DIV",{});var _e=q(V);U=G(_e,"Stox"),_e.forEach(d),Z.forEach(d),F=I(M),O=B(M,"DIV",{class:!0});var ae=q(O);f&&f.l(ae),ae.forEach(d),M.forEach(d),this.h()},h(){document.title="Home",H(e,"name","description"),H(e,"content","Stox"),H(a,"class","flex flex-col items-center gap-4 text-5xl font-bold"),H(O,"class","grid grid-cols-1 grid-rows-1"),H(l,"class","relative z-10 flex flex-col items-center gap-16")},m(m,C){$(document.head,e),T(m,t,C),z(n,m,C),T(m,s,C),T(m,l,C),$(l,a),$(a,w),$(w,i),$(a,_),$(a,h),$(h,c),$(a,o),$(a,v),$(v,y),$(a,D),$(a,V),$(V,U),$(l,F),$(l,O),~b&&p[b].m(O,null),g=!0},p(m,[C]){let M=b;b=k(m),b!==M&&(f&&(ie(),A(p[M],1,1,()=>{p[M]=null}),ue()),~b?(f=p[b],f||(f=p[b]=u[b](m),f.c()),E(f,1),f.m(O,null)):f=null)},i(m){g||(E(n.$$.fragment,m),E(f),g=!0)},o(m){A(n.$$.fragment,m),A(f),g=!1},d(m){d(e),m&&d(t),N(n,m),m&&d(s),m&&d(l),~b&&p[b].d()}}}const Lt=!0;function Vt(r,e,t){let n;return xe(r,fe,s=>t(0,n=s)),[n]}class Qt extends ce{constructor(e){super(),pe(this,e,Vt,Ct,me,{})}}export{Qt as default,Lt as prerender};
