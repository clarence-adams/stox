import{S as R,i as W,s as X,e as b,t as A,k,c as v,a as $,h as S,m as E,d as _,b as p,f as z,g as j,G as h,L as Z,E as G,N as ee,K as Y,F as te,w as H,x as U,y as J,j as se,H as ae,I as le,J as oe,q as B,o as V,B as K}from"../chunks/index-afd08e74.js";import{g as ne}from"../chunks/navigation-0e6511d1.js";import{a as M,B as re,u as O}from"../chunks/Button-a8edf08d.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/index-9f318f14.js";function P(o,e,s){const t=o.slice();return t[4]=e[s],t}function Q(o){let e,s=o[4].charAt(0).toUpperCase()+o[4].slice(1)+"",t,a,c,l,n;function i(){return o[3](o[4])}return{c(){e=b("button"),t=A(s),a=k(),this.h()},l(f){e=v(f,"BUTTON",{id:!0,class:!0});var u=$(e);t=S(u,s),a=E(u),u.forEach(_),this.h()},h(){p(e,"id",c=o[4]),p(e,"class","text-md bg-white p-4 text-center text-lg font-bold hover:bg-gray-100 sm:text-left sm:text-2xl"),z(e,"background-color",o[0]===o[4]?"#D1FAE5":"",!1)},m(f,u){j(f,e,u),h(e,t),h(e,a),l||(n=Z(e,"click",i),l=!0)},p(f,u){o=f,u&1&&z(e,"background-color",o[0]===o[4]?"#D1FAE5":"",!1)},d(f){f&&_(e),l=!1,n()}}}function ce(o){let e,s=o[1],t=[];for(let a=0;a<s.length;a+=1)t[a]=Q(P(o,s,a));return{c(){e=b("nav");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=v(a,"NAV",{class:!0});var c=$(e);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(_),this.h()},h(){p(e,"class","fixed bottom-0 left-0 z-50 flex w-full flex-row justify-center bg-white sm:static sm:flex-col sm:justify-start")},m(a,c){j(a,e,c);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(a,[c]){if(c&7){s=a[1];let l;for(l=0;l<s.length;l+=1){const n=P(a,s,l);t[l]?t[l].p(n,c):(t[l]=Q(n),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},i:G,o:G,d(a){a&&_(e),ee(t,a)}}}function ie(o,e,s){let t;Y(o,M,n=>s(0,t=n));const a=["overview","quote","buy","sell"],c=n=>{M.set(n)};return[t,a,c,n=>c(n)]}class fe extends R{constructor(e){super(),W(this,e,ie,ce,X,{})}}function ue(o){let e;return{c(){e=A("Logout")},l(s){e=S(s,"Logout")},m(s,t){j(s,e,t)},d(s){s&&_(e)}}}function me(o){let e,s,t,a,c,l,n,i,f,u=`$${parseInt(o[0].cash).toLocaleString()}`,D,C,x,L,y,w;n=new re({props:{onClick:o[1],red:!0,$$slots:{default:[ue]},$$scope:{ctx:o}}}),x=new fe({});const N=o[3].default,m=te(N,o,o[4],null);return{c(){e=b("main"),s=b("div"),t=b("div"),a=b("a"),c=A("Stox"),l=k(),H(n.$$.fragment),i=k(),f=b("p"),D=A(u),C=k(),H(x.$$.fragment),L=k(),y=b("div"),m&&m.c(),this.h()},l(r){e=v(r,"MAIN",{class:!0});var d=$(e);s=v(d,"DIV",{class:!0});var g=$(s);t=v(g,"DIV",{class:!0});var I=$(t);a=v(I,"A",{href:!0,class:!0});var q=$(a);c=S(q,"Stox"),q.forEach(_),l=E(I),U(n.$$.fragment,I),I.forEach(_),i=E(g),f=v(g,"P",{class:!0});var F=$(f);D=S(F,u),F.forEach(_),C=E(g),U(x.$$.fragment,g),g.forEach(_),L=E(d),y=v(d,"DIV",{class:!0});var T=$(y);m&&m.l(T),T.forEach(_),d.forEach(_),this.h()},h(){p(a,"href","/"),p(a,"class","mr-4 text-3xl font-bold"),p(t,"class","flex flex-grow items-center justify-between bg-emerald-300 px-4 py-2 sm:p-4"),p(f,"class","flex-grow bg-emerald-200 py-2 px-4 text-3xl font-bold sm:p-4"),p(s,"class","fixed z-50 flex h-28 w-full flex-col border-r-2 border-gray-200 bg-white sm:block sm:h-full sm:w-52"),p(y,"class","relative mt-28 min-h-screen w-full px-4 pt-8 pb-20 sm:fixed sm:left-52 sm:top-0 sm:mt-0 sm:max-w-[calc(100%-theme(spacing.52))] sm:py-8 sm:px-8"),p(e,"class","flex min-h-screen flex-col bg-gray-100 sm:flex-row")},m(r,d){j(r,e,d),h(e,s),h(s,t),h(t,a),h(a,c),h(t,l),J(n,t,null),h(s,i),h(s,f),h(f,D),h(s,C),J(x,s,null),h(e,L),h(e,y),m&&m.m(y,null),w=!0},p(r,[d]){const g={};d&16&&(g.$$scope={dirty:d,ctx:r}),n.$set(g),(!w||d&1)&&u!==(u=`$${parseInt(r[0].cash).toLocaleString()}`)&&se(D,u),m&&m.p&&(!w||d&16)&&ae(m,N,r,r[4],w?oe(N,r[4],d,null):le(r[4]),null)},i(r){w||(B(n.$$.fragment,r),B(x.$$.fragment,r),B(m,r),w=!0)},o(r){V(n.$$.fragment,r),V(x.$$.fragment,r),V(m,r),w=!1},d(r){r&&_(e),K(n),K(x),m&&m.d(r)}}}async function ve({fetch:o}){const e=await o("/dashboard/api/get-user");return{props:{userData:e.ok&&await e.json()}}}function he(o,e,s){let t;Y(o,O,i=>s(0,t=i));let{$$slots:a={},$$scope:c}=e,{userData:l}=e;O.set(l);const n=()=>{console.log("logged out"),fetch("/api/logout",{method:"GET"}).then(i=>ne(i.url))};return o.$$set=i=>{"userData"in i&&s(2,l=i.userData),"$$scope"in i&&s(4,c=i.$$scope)},[t,n,l,a,c]}class $e extends R{constructor(e){super(),W(this,e,he,me,X,{userData:2})}}export{$e as default,ve as load};
